export default(e=[])=>({handle(r,a){const p=r instanceof RegExp?r:new RegExp("^"+r.replace(/\./g,"\\.").replace(/\[([^\]]+)\]/g,((_,e)=>`(?<${e}>[^\\/]+)`)).replace(/\*/g,".*?")+"$");e.push({path:r,pattern:p,handler:a})},route:r=>e.reduce(((e,a)=>{const p=a.pattern.exec(r);return console.log(e,a,p),p?[...e,{...a,params:p.groups}]:e}),[])});
