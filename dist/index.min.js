let e=0,t=0,r=document,n=e=>e(),a=e=>"object"==typeof e,l=(e,t)=>e.forEach(t),d=(e,t)=>{for(let[u,c]of Object.entries(t||{}))e.nodeType?(r=e,n=u,l=c,l?.call||a(l)||n in r?a(r[n])?d(r[n],l):r[n]=null===l?"":l:null===l||!1===l&&"-"!=n[4]?r.removeAttribute(n):r.setAttribute(n,l)):a(e[u])&&a(c)?d(e[u],c):e[u]=c;var r,n,l;return e},u=(e,t,...n)=>{let a=d(r.createElement(e),t);return a.append(...n),a},c=(e,...t)=>(e.addEventListener(...t),_=>e.removeEventListener(...t)),o=(e=new Set)=>[(...t)=>l(e,(e=>e(...t))),t=>(e.add(t),_=>e.delete(t))],v=(r,[n,a]=o())=>({set val(e){r!==e&&(r=e,t?t.add(n):n())},get val(){return e&&e.add(this),r},peek:_=>r,watch:a}),p=t=>{let r,a=0,d=_=>{a||(a=1,t(),a=0)};return e=new Set,t(),r=[...e].map((e=>e.watch(d))),e=0,_=>l(r,n)},i=e=>{let t=v();return p((_=>t.val=e())),{get val(){return t.val},peek:t.peek,watch:t.watch}},w=e=>{t=new Set,e(),l(t,n),t=0};export{d as assign,u as dom,c as on,o as event,v as signal,i as computed,p as effect,w as batch};
