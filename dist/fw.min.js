let e="value",t=null,n=e=>"object"==typeof e,r=(e,t)=>[...e].map(t),a=(e,t)=>(t(e),e),d=(e=new Set)=>[(...t)=>r(e,(e=>e(...t))),t=>(e.add(t),_=>e.delete(t))],l=t,i=(t,[n,r]=d())=>({set[e](e){t!==e&&(t=e,n())},get[e](){return l&&l.add(this),t},peek:_=>t,watch:r}),c=e=>{let n,a=0;return l=new Set,e(),n=r(l,(t=>t.watch((_=>{a||(a=1,e(),a=0)})))),l=t,_=>r(n,(e=>e()))},o=(t,n)=>a(i(n),(n=>c((_=>n[e]=t(n[e]))))),[p,u]=d(),s=(r,a,d)=>{"ref"==a?d[e]=r:n(d)&&e in d?u(c((()=>s(r,a,d[e])))):d?.call||n(d)||a in r?r[a]&&n(r[a])?m(r[a],d):r[a]=d===t?"":d:d===t||0==d&&"-"!=a[4]?r.removeAttribute(a):r.setAttribute(a,d)},m=(e,t)=>(r(Object.entries(t||{}),(([t,r])=>{e.nodeType?s(e,t,r):n(e[t])&&n(r)?m(e[t],r):e[t]=r})),e),dom=(e,t,...n)=>a(m(document.createElement(e),t),(e=>e.append(...n))),on=(e,...t)=>(e.addEventListener(...t),_=>e.removeEventListener(...t));export{m as assign,dom,on,d as event,i as signal,o as computed,c as effect,p as onEffect};
