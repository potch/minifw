let e=0,t=document,r=e=>e(),l=e=>"object"==typeof e,n=(e,t)=>[...e].map(t),a=(e,t)=>{for(let[o,v]of Object.entries(t||{}))e.nodeType?(r=e,u=v,"ref"==(n=o)?u.val=r:l(u)||n in r?r[n]&&l(r[n])?a(r[n],u):r[n]=null===u?"":u:null===u||0==u&&"-"!=n[4]?r.removeAttribute(n):r.setAttribute(n,u)):l(e[o])&&l(v)?a(e[o],v):e[o]=v;var r,n,u;return e},dom=(e,r,...l)=>{let n=a(t.createElement(e),r);return n.append(...l),n},on=(e,...t)=>(e.addEventListener(...t),_=>e.removeEventListener(...t)),u=(e=new Set)=>[(...t)=>n(e,(e=>e(...t))),t=>(e.add(t),_=>e.delete(t))],o=(t,[r,l]=u())=>({set val(e){t!==e&&(t=e,r())},get val(){return e&&e.add(this),t},peek:_=>t,watch:l}),v=t=>{let l,a=0;return e=new Set,t(),l=n(e,(e=>e.watch((_=>{a||(a=1,t(),a=0)})))),e=0,_=>n(l,r)},c=e=>{let t=o();return v((_=>t.val=e())),{get val(){return t.val},peek:t.peek,watch:t.watch}},$=(e,r=t)=>r.querySelector(e),$$=(e,r=t)=>r.querySelectorAll(e);export{$,$$,a as assign,dom,on,u as event,o as signal,c as computed,v as effect};
