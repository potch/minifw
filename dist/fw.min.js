let e=0,t=0,r=document,n=e=>e(),a=e=>"object"==typeof e,l=(e,t)=>[...e].map(t),d=(e,t)=>{for(let[u,p]of Object.entries(t||{}))e.nodeType?(r=e,n=u,l=p,l?.call||a(l)||n in r?a(r[n])?d(r[n],l):r[n]=null===l?"":l:null===l||!1===l&&"-"!=n[4]?r.removeAttribute(n):r.setAttribute(n,l)):a(e[u])&&a(p)?d(e[u],p):e[u]=p;var r,n,l;return e},u=(e,t,...n)=>{let a=d(r.createElement(e),t);return a.append(...n),a},p=(e,...t)=>(e.addEventListener(...t),_=>e.removeEventListener(...t)),v=(e=new Set)=>[(...t)=>l(e,(e=>e(...t))),t=>(e.add(t),_=>e.delete(t))],c=(r,[n,a]=v())=>({set val(e){r!==e&&(r=e,t?t.add(n):n())},get val(){return e&&e.add(this),r},peek:_=>r,watch:a}),o=t=>{let r,a=0,d=_=>{a||(a=1,t(),a=0)};return e=new Set,t(),r=[...e].map((e=>e.watch(d))),e=0,_=>l(r,n)},i=e=>{let t=c();return o((_=>t.val=e())),{get val(){return t.val},peek:t.peek,watch:t.watch}},w=e=>{t=new Set,e(),l(t,n),t=0};export{d as assign,u as dom,p as on,v as event,c as signal,i as computed,o as effect,w as batch};
