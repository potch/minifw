let e=document,t="value",r=null,n=e=>e(),l=e=>"object"==typeof e,u=(e,t)=>[...e].map(t),a=r,o=(e,n)=>{for(let[c,i]of Object.entries(n||{}))e.nodeType?(u=e,d=i,"ref"==(a=c)?d[t]=u:d.call||l(d)||a in u?u[a]&&l(u[a])?o(u[a],d):u[a]=d===r?"":d:d===r||0==d&&"-"!=a[4]?u.removeAttribute(a):u.setAttribute(a,d)):l(e[c])&&l(i)?o(e[c],i):e[c]=i;var u,a,d;return e},dom=(t,r,...n)=>{let l=o(e.createElement(t),r);return l.append(...n),l},on=(e,...t)=>(e.addEventListener(...t),_=>e.removeEventListener(...t)),d=(e=new Set)=>[(...t)=>u(e,(e=>e(...t))),t=>(e.add(t),_=>e.delete(t))],c=(e,[r,n]=d())=>({set[t](t){e!==t&&(e=t,r())},get[t](){return a&&a.add(this),e},peek:_=>e,watch:n}),i=e=>{let t,l=0;return a=new Set,e(),t=u(a,(t=>t.watch((_=>{l||(l=1,e(),l=0)})))),a=r,_=>u(t,n)},p=(e,r)=>{let n=c(r);return i((_=>n[t]=e(n[t]))),n},$=(t,r=e)=>r.querySelector(t),$$=(t,r=e)=>r.querySelectorAll(t);export{o as assign,dom,on,d as event,c as signal,p as computed,i as effect,$,$$};
