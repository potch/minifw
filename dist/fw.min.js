let e=0,t=document,r=e=>e(),n=e=>"object"==typeof e,l=(e,t)=>[...e].map(t),a=(e,t)=>{for(let[v,d]of Object.entries(t||{}))e.nodeType?(r=e,u=d,"ref"==(l=v)?u.val=r:u.call||n(u)||l in r?r[l]&&n(r[l])?a(r[l],u):r[l]=null===u?"":u:null===u||0==u&&"-"!=l[4]?r.removeAttribute(l):r.setAttribute(l,u)):n(e[v])&&n(d)?a(e[v],d):e[v]=d;var r,l,u;return e},dom=(e,r,...n)=>{let l=a(t.createElement(e),r);return l.append(...n),l},on=(e,...t)=>(e.addEventListener(...t),_=>e.removeEventListener(...t)),u=(e=new Set)=>[(...t)=>l(e,(e=>e(...t))),t=>(e.add(t),_=>e.delete(t))],v=(t,[r,n]=u())=>({set val(e){t!==e&&(t=e,r())},get val(){return e&&e.add(this),t},peek:_=>t,watch:n}),d=t=>{let n,a=0;return e=new Set,t(),n=l(e,(e=>e.watch((_=>{a||(a=1,t(),a=0)})))),e=0,_=>l(n,r)},c=e=>{let t=v();return d((_=>t.val=e())),{get val(){return t.val},peek:t.peek,watch:t.watch}};export{a as assign,dom,on,u as event,v as signal,c as computed,d as effect};
