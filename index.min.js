export const $$=(e,t=document)=>t.querySelectorAll(e);export const $=(e,t=document)=>t.querySelector(e);export const dom=(e,t,...n)=>{const o=Object.assign(document.createElement(e),t);return o.append(...n),o};export const on=(e,t,n,o)=>(e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o));let e=!1;export const event=()=>{const e=new Set;return[(...t)=>e.forEach((e=>e(...t))),t=>(e.add(t),()=>e.delete(t))]};export const signal=t=>{const[n,o]=event();return{set value(e){t!==e&&(t=e,n())},get value(){return e&&e.add(this),t},peek:()=>t,watch:o}};export const computed=t=>{const[n,o]=event();let r,c=0;e=new Set;let s=t();const a=[...e];e=!1;const u=()=>{const e=t();e!==s&&(s=e,n())};return{get value(){return e&&e.add(this),s},peek:()=>s,watch(e){c||(r=a.map((e=>e.watch(u))));const t=o(e);return c++,()=>{t(),c--,c||r.forEach((e=>e()))}}}};export const effect=t=>{e=new Set,t();const n=[...e];e=!1;const o=n.map((e=>e.watch(t)));return()=>o.forEach((e=>e()))};
